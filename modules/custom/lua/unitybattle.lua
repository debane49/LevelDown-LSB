local zname = 
{
{'Alzadaal_Undersea_Ruins', 'Vidmapire',               6389, 128, 3},
{'Attohwa_Chasm',           'Muut',                    6358, 125, 3},
{'Aydeewa_Subterrane',      'Tumult_Curator',          6479, 145, 5},
{'Batallia_Downs',          'Lumber_Jill',             6323, 125, 3},
{'Beaucedine_Glacier',      'Largantua',               6328, 125, 3},
{'Behemoths_Dominion',      'Sovereign_Behemoth',      6405, 135, 4},
{'Bibiki_Bay',              'Intuila',                 6320, 119, 2},
{'Bostaunieux_Oubliette',   'Garbage_Gel',             6382, 122, 3},
{'Buburimu_Peninsula',      'Abyssdiver',              6319, 119, 2},
{'Caedarva_Mire',           'Shedu',                   6482, 135, 4},
{'Cape_Teriggan',           'Vedrfolnir',              6354, 128, 3},
{'Carpenters_Landing',      'Orcfeltrap',              6322, 119, 2},
{'Den_of_Rancor',           'Azrael',                  6365, 128, 3},
{'East_Ronfaure',           'Hugemaw_Harold',          6312,  75, 1},
{'East_Sarutabaruta',       'Prickly_Pitriv',          6314,  75, 1},
{'Eastern_Altepa_Desert',   'Cactrot_Veloz',           6331, 122, 3},
{'FeiYin',                  'Borealis_Shadow',         6366, 128, 3},
{'Garlaige_Citadel',        'Mephitas',                6361, 125, 3},
{'Gustav_Tunnel',           'Wyvernhunter_Bambrox',    6485, 128, 3},
{'Ifrits_Cauldron',         'Coca',                    6362, 125, 3},
{'Jugner_Forest',           'Emperor_Arthro',          6321, 125, 3},
{'Konschtat_Highlands',     'Sleepy_Mabel',            6316,  99, 1},
{'Kuftal_Tunnel',           'Specter_Worm',            6364, 125, 3},
{'La_Theine_Plateau',       'Ironhorn_Baldurno',       6315,  99, 1},
{'Labyrinth_of_Onzozo',     'Voso',                    6360, 122, 3},
{'Lufaise_Meadows',         'Immanibugard',            6357, 119, 2},
{'Meriphataud_Mountains',   'Warblade_Beak',           6326, 122, 3},
{'Misareaux_Coast',         'Tiyanak',                 6356, 122, 3},
{'Mount_Zhayolm',           'Grand_Grenade',           6388, 128, 3},
{'Pashhow_Marshlands',      'Joyous_Green',            6324, 122, 3},
{'Qufim_Island',            'Jester_Malatrix',         6330, 119, 2},
{'Quicksand_Caves',         'Centurio_XX-I',           6390, 125, 3},
{'RoMaeve',                 'Douma_Weapon',            6352, 125, 3},
{'Rolanberry_Fields',       'Strix',                   6325, 125, 3},
{'Sauromugue_Champaign',    'Arke',                    6327, 125, 3},
{'Sea_Serpent_Grotto',      'Bakunawa',                6383, 125, 3},
{'South_Gustaberg',         'Bounding_Belinda',        6313,  75, 1},
{'Tahrongi_Canyon',         'Serpopard_Ninlil',        6318,  99, 1},
{'Temple_of_Uggalepih',     'Azure-toothed_Clawberry', 6384, 125, 3},
{'The_Boyahda_Tree',        'Ayapec',                  6363, 125, 3},
{'The_Sanctuary_of_ZiTah',  'Keeper_of_Heiligtum',     6351, 122, 3},
{'Uleguerand_Range',        'Camahueto',               6359, 128, 3},
{'Valkurm_Dunes',           'Valkurm_Imperator',       6317, 119, 2},
{'Valley_of_Sorrows',       'Tolba',                   6403, 135, 4},
{'Wajaom_Woodlands',        'Kubool_Jas_Mhuufya',      6387, 125, 3},
{'Western_Altepa_Desert',   'King_Uropygid',           6353, 125, 3},
{'Xarcabard',               'Beist',                   6329, 125, 3},
{'Yhoator_Jungle',          'Woodland_Mender',         6332, 122, 3},
{'Yuhtunga_Jungle',         'Sybaritic_Samantha',      6350, 119, 2},
{'Lufaise_Meadows',         'Vermillion_Fishfly',      6385, 125, 3},
{'FeiYin',                  'Carousing_Celine',        6484, 128, 3},
{'Misareaux_Coast',         'Volatile_Cluster',        6386, 128, 3},
{'Cape_Teriggan',           'Glazemane',               6483, 128, 3},
{'The_Boyahda_Tree',        'Hidhaegg',                6404, 135, 4},
{'Wajaom_Woodlands',        'Thuban',                  6480, 135, 4},
{'Mount_Zhayolm',           'Sarama',                  6481, 135, 4},
}

local coffer =
{
{'tolbas_coffer'},
{'muuts_coffer'},
{'hugemaw_harolds_coffer'},
{'bounding_belindas_coffer'},
{'prickly_pitrivs_coffer'},
{'ironhorn_baldurnos_coffer'},
{'sleepy_mabels_coffer'},
{'valkurm_imperators_coffer'},
{'serpopard_ninlils_coffer'},
{'abyssdivers_coffer'},
{'intuilas_coffer'},
{'emperor_arthros_coffer'},
{'orcfeltraps_coffer'},
{'lumber_jills_coffer'},
{'joyous_greens_coffer'},
{'strixs_coffer'},
{'warblade_beaks_coffer'},
{'arkes_coffer'},
{'largantuas_coffer'},
{'beists_coffer'},
{'jester_malatrixs_coffer'},
{'catrot_velozs_coffer'},
{'woodland_menders_coffer'},
{'sybaritic_samanthas_coffer'},
{'keeper_of_heiligtums_coffer'},
{'douma_weapons_coffer'},
{'king_uropygids_coffer'},
{'vedrfolnirs_coffer'},
{'tiyanaks_coffer'},
{'immanibugards_coffer'},
{'camahuetos_coffer'},
{'vosos_coffer'},
{'mephitass_coffer'},
{'cocas_coffer'},
{'ayapecs_coffer'},
{'specter_worms_coffer'},
{'azraels_coffer'},
{'borealis_shadows_coffer'},
{'hidhaeggs_coffer'},
{'sovereign_behemoths_coffer'},
{'garbage_gels_coffer'},
{'bakunawas_coffer'},
{'azure-toothed_clawberrys_coffer'},
{'vermillion_fishflys_coffer'},
{'volatile_clusters_coffer'},
{'mhuufyas_coffer'},
{'grand_grenades_coffer'},
{'vidmapires_coffer'},
{'centurio_xx-is_coffer'},
{'tumult_curators_coffer'},
{'thubans_coffer'},
{'saramas_coffer'},
{'shedus_coffer'},
{'glazemanes_coffer'},
{'carousing_celines_coffer'},
{'bambroxs_coffer'},
}


local ensureTable = function(str)
    local parts = utils.splitStr(str, '.')
    local table = _G;
    for _, part in ipairs(parts) do
        table[part] = table[part] or {}
        table = table[part]
    end
end
for _, entry in pairs(zname) do
    ensureTable(string.format('xi.zones.%s.npcs.Ethereal_Junction', entry[1]))
end
for _, entry in pairs(zname) do
    ensureTable(string.format('xi.zones.%s.mobs.%s', entry[1], entry[2]))
end
for _, entry in pairs(coffer) do
    ensureTable(string.format('xi.items.%s', entry[1]))
end

-----------------------------------
require("modules/module_utils")
require("scripts/globals/npc_util")
require("scripts/globals/unitywanted")
-----------------------------------

local m = Module:new("unitybattle")


for _, entry in pairs(zname) do
m:addOverride(string.format("xi.zones.%s.npcs.Ethereal_Junction.onTrigger",entry[1]), function(player, npc)
     xi.unitywanted.qmOnTrigger(player, npc)
end)
end

for _, entry in pairs(zname) do
m:addOverride(string.format("xi.zones.%s.npcs.Ethereal_Junction.onEventUpdate",entry[1]), function(player, csid, option, npc)

local zonez = player:getZoneID()
if zonez == 113 or 204 or 24 or 25 or 61 or 153 or 51 then
xi.unitywanted.qmOnEventUpdate(player, csid, option, npc)
end

end)
end

for _, entry in pairs(zname) do
m:addOverride(string.format("xi.zones.%s.npcs.Ethereal_Junction.onEventFinish", entry[1]), function(player, csid, option, npc, trade)
xi.unitywanted.qmOnEventFinish(player, npc, mob, option)
end)
end

for _, entry in pairs(zname) do
m:addOverride(string.format("xi.zones.%s.mobs.%s.onMobInitialize", entry[1], entry[2]), function(mob)
end)

m:addOverride(string.format("xi.zones.%s.mobs.%s.onMobSpawn", entry[1], entry[2]), function(mob)
                 mob:setMobMod(xi.mobMod.IDLE_DESPAWN, 15)
                 mob:setLocalVar('Unity_Time', os.time() + 900)
if mob:getMainLvl() > 121 and mob:getMainLvl() <= 125 then
        mob:addMod(xi.mod.ATT, 1000)
        mob:addMod(xi.mod.DEF, 150)
        mob:addMod(xi.mod.ACC, 500)
        mob:addMod(xi.mod.EVA, 150)
        mob:addMod(xi.mod.MATT, 50)
        mob:addMod(xi.mod.MDEF, 150)
        mob:addMod(xi.mod.MACC, 500)
        mob:addMod(xi.mod.MEVA, 150)
        mob:addMod(xi.mod.HASTE_MAGIC, 10)
elseif mob:getMainLvl() > 126 and mob:getMainLvl() <= 130 then
        mob:addMod(xi.mod.ATT, 1400)
        mob:addMod(xi.mod.DEF, 250)
        mob:addMod(xi.mod.ACC, 700)
        mob:addMod(xi.mod.EVA, 200)
        mob:addMod(xi.mod.MATT, 100)
        mob:addMod(xi.mod.MDEF, 250)
        mob:addMod(xi.mod.MACC, 700)
        mob:addMod(xi.mod.MEVA, 200)
        mob:addMod(xi.mod.HASTE_MAGIC, 15)
        mob:addMod(xi.mod.REGEN, 20)
        mob:addMod(xi.mod.REFRESH, 20)
elseif mob:getMainLvl() > 131 and mob:getMainLvl() <= 135 then
        mob:addMod(xi.mod.ATT, 1800)
        mob:addMod(xi.mod.DEF, 350)
        mob:addMod(xi.mod.ACC, 900)
        mob:addMod(xi.mod.EVA, 250)
        mob:addMod(xi.mod.MATT, 150)
        mob:addMod(xi.mod.MDEF, 350)
        mob:addMod(xi.mod.MACC, 900)
        mob:addMod(xi.mod.MEVA, 250)
        mob:addMod(xi.mod.HASTE_MAGIC, 20)
        mob:addMod(xi.mod.REGEN, 30)
        mob:addMod(xi.mod.REFRESH, 30)
        mob:addMod(xi.mod.REGAIN, 20)
end
end)

m:addOverride(string.format("xi.zones.%s.mobs.%s.onMobDeath", entry[1], entry[2]), function(mob, player, params, npc)
    local party = player:getParty()
                     for _, partyMemeber in pairs(party) do
        player:delStatusEffect(xi.effect.BATTLEFIELD)
        player:countdown()
        npcUtil.giveItem(player, {{4061, entry[5]}})
        npcUtil.giveItem(player, {{entry[3], 1}})
                     end
end)

m:addOverride(string.format("xi.zones.%s.mobs.%s.onMobDespawn", entry[1], entry[2]), function(mob, player, params, npc)

end)

m:addOverride(string.format("xi.zones.%s.mobs.%s.onMobFight", entry[1], entry[2]), function(mob, player, params, npc)
    local timeLeft = mob:getLocalVar('Unity_Time') - os.time()
    local party = player:getParty()
    --[[
    if timeLeft <= 0 or
       not player:hasStatusEffect(xi.effect.BATTLEFIELD) then
                 for _, partyMemeber in pairs(party) do
       player:delStatusEffect(xi.effect.BATTLEFIELD)
       player:countdown()
       end
       DespawnMob(mob:getID())
    end
    ]]--
    if timeLeft <= 0 then
                     for _, partyMemeber in pairs(party) do
       player:countdown()
       end
       DespawnMob(mob:getID())
       end


end)
end

----------------------coffers------------------------------------------
-----------------------------------------------------------------------

for _, entry in pairs(coffer) do
m:addOverride(string.format("xi.items.%s.onItemCheck", entry[1]), function(target)
    return xi.itemUtils.itemBoxOnItemCheck(target)
end)
end

-----------------------------------------------------------------------
----------------------abyssdivers_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.abyssdivers_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 21349  }, -- WingCutter
        {    1, 21350  }, -- Wingcutter +1
        {   10, 27993  }, -- Macabre Gauntlets
        {    1, 27994  }, -- Macabre Gauntlets +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80,  8981  }, -- Abyssdivers Feather
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged Relic / AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------arkes_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.arkes_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 21164   }, -- Ababinili
        {    1, 21165   }, -- Ababinili +1
        {   10, 20613   }, -- Pukulatmuj
        {    1, 20614   }, -- Pukulatmuj +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8989    }, -- Arkes Wing
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------ayapecs_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.ayapecs_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 26784   }, -- Hike Khat
        {    1, 26785   }, -- Hike Khat +1
        {   10, 20804   }, -- Perun
        {    1, 20805   }, -- Perun +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9057    }, -- Ayapecs Shell
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------azraels_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.azraels_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 20851   }, -- Aizkora
        {    1, 20852   }, -- Aizkora +1
        {   10, 26786   }, -- Alhazen Hat
        {    1, 26787   }, -- Alhazen Hat +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9059    }, -- Azraels Eye
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------azure-toothed_clawberrys_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.azure-toothed_clawberrys_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 27106   }, -- Asteria Mitts
        {    1, 27107   }, -- Asteria Mitts +1
        {   10, 27108   }, -- Lamassu Mitts
        {    1, 27109   }, -- Lamassu Mitts +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9094    }, -- Azure-toothed Clawberrys Coat
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------bakunawas_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.bakunawas_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 27517   }, -- Bathy Choker
        {    1, 27518   }, -- Bathy Choker +1
        {   10, 20708   }, -- Demersal Degen
        {    1, 20709   }, -- Demersal Degen +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9093    }, -- Bakunawas Ink
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------bambroxs_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.bambroxs_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 22120   }, -- Imati
        {    1, 22121   }, -- Imati +1
        {   10, 21805   }, -- Pixquizpan
        {    1, 21806   }, -- Pixquizpan +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9209    }, -- Bambroxs Shawl
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------beists_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.beists_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 26714   }, -- Adorned Helm
        {    1, 26715   }, -- Adorned Helm +1
        {   10, 26872   }, -- Hime Domaru
        {    1, 26873   }, -- Hime Domaru +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8991    }, -- Beists Blood
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------borealis_shadows_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.borealis_shadows_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 20853   }, -- Beheader
        {    1, 20854   }, -- Beheader +1
        {   10, 27640   }, -- Deliverance
        {    1, 27641   }, -- Deliverance +1
        {   10, 20527   }, -- Fists of Fury
        {    1, 20528   }, -- Fists of Fury +1
        {   10, 21219   }, -- Paloma Bow
        {    1, 21220   }, -- Paloma Bow +1
        {   56, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9060    }, -- Ethereal Incense
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------bounding_belindas_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.bounding_belindas_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 28271   }, -- Adsilio Boots
        {    1, 28272   }, -- Adsilio Boots +1
        {   15, 27597   }, -- Emico Mantle
        {    5, 28425   }, -- Salire Belt
        {   69, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8975    }, -- Belindas Hide
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------camahuetos_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.camahuetos_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 27407   }, -- Hygieia Clogs
        {    1, 27408   }, -- Hygieia Clogs +1
        {   10, 20898   }, -- Triska Scythe
        {    1, 20899   }, -- Triska Scythe +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9051    }, -- Camahuetos Fur
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------carousing_celines_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.carousing_celines_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 27150   }, -- Gazu Bracelet
        {    1, 27151   }, -- Gazu Bracelet +1
        {   10, 27548   }, -- Odnowa Earring
        {    1, 27549   }, -- Odnowa Earring +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9208    }, -- Celines Vine
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------catrot_velozs_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.catrot_velozs_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 28486   }, -- Arete del Luna
        {    1, 28487   }, -- Arete del Luna +1
        {   10, 21222   }, -- Mengado
        {    1, 21223   }, -- Mengado +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8993    }, -- Velozs Needle
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------centurio_xx-is_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.centurio_xx-is_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 25680   }, -- Cohort Cloak
        {    1, 25681   }, -- Cohort Cloak +1
        {   10, 28412   }, -- Kentarch Belt
        {    1, 28413   }, -- Kentarch Belt +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9104    }, -- Centurio XX-Is Armor
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------cocas_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.cocas_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 20942}, -- Gae Derg
        {    1, 20943}, -- Gae Derg +1
        {   10, 27638}, -- Ajax
        {    1, 27639}, -- Ajax +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9056    }, -- Cocas Wing
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------douma_weapons_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.douma_weapons_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 26887   }, -- Shomonjijoe
        {    1, 26888   }, -- Shomonjijoe +1
        {   10, 21418   }, -- Rigorous Grip
        {    1, 21419   }, -- Rigorous Grip +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9029    }, -- Doumas Shard
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------emperor_arthros_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.emperor_arthros_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 28427   }, -- Sailfi Belt
        {    1, 28428   }, -- Sailfi Belt +1
        {   10, 28136   }, -- Augury Cuisses
        {    1, 28137   }, -- Augury Cuisses +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8983    }, -- Emperor Arthros Shell
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------garbage_gels_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.garbage_gels_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 10768   }, -- Gelatinous Ring
        {    1, 10769   }, -- Gelatinous Ring +1
        {   10, 20521   }, -- Emeici
        {    1, 20522   }, -- Emeici +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9092    }, -- Garbage Gels Mucus
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------glazemanes_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.glazemanes_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 20580   }, -- Kustawi
        {    1, 20581   }, -- Kustawi +1
        {   10, 21690   }, -- Ushenzi
        {    1, 21691   }, -- Ushenzi +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9207    }, -- Glazemanes Fang
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------grand_grenades_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.grand_grenades_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 21090   }, -- Loxotic Mace
        {    1, 21091   }, -- Loxotic Mace +1
        {   10, 22254   }, -- Seething Bomblet
        {    1, 22255   }, -- Seething Bomblet +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9098    }, -- Grand Grenades Ash
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------hidhaeggs_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.hidhaeggs_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 20696   }, -- Combuster
        {    1, 20697   }, -- Combuster +1
        {   10, 25635   }, -- Loess Barbuta
        {    1, 25636   }, -- Loess Barbuta +1
        {   10, 21695   }, -- Nullis
        {    1, 21696   }, -- Nullis +1
        {   67, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9149    }, -- Hidhaeggs Scale
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------hugemaw_harolds_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.hugemaw_harolds_coffer.onItemUse", function(target)
    local lootone =
    {
        {   15, 28488   }, -- Megasco Earring
        {   15, 28529   }, -- Setae Ring
        {   70, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8974    }, -- Harolds Ore
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------immanibugards_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.immanibugards_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 27560   }, -- Apeile Ring
        {    1, 27561   }, -- Apeile Ring +1
        {   10, 27409   }, -- Hippomenes Socks
        {    1, 27410   }, -- Hippomenes Socks +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9047    }, -- Immanibugards Hide
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------intuilas_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.intuilas_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 28134   }, -- Assiduity Pants
        {    1, 28135   }, -- Assiduity Pants +1
        {   10, 28484   }, -- Nourishing Earring
        {    1, 28485   }, -- Nourishing Earring +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8982    }, -- Intuilas Hide
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------ironhorn_baldurnos_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.ironhorn_baldurnos_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 27633   }, -- Thorfinn Shield
        {    1, 27634   }, -- Thorfinn Shield +1
        {   15, 28489   }, -- Grit Earring
        {   15, 27600   }, -- Bleating Mantle
        {   64, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8977    }, -- Baldurnos Horn
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------jester_malatrixs_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.jester_malatrixs_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 20806   }, -- Buramgh
        {    1, 20807   }, -- Buramgh +1
        {   10, 27636   }, -- Evalach
        {    1, 27637   }, -- Evalach +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8992    }, -- Malatrixs Shard
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------joyous_greens_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.joyous_greens_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 28429   }, -- Acuity Belt
        {    1, 28430   }, -- Acuity Belt +1
        {   10, 28352   }, -- Canto Necklace
        {    1, 28353   }, -- Canto Necklace +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8986    }, -- Joyouss Moss
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------keeper_of_heiligtums_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.keeper_of_heiligtums_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 21034   }, -- Kunimune
        {    1, 21035   }, -- Kunimune +1
        {   10, 27230   }, -- Zoar Subligar
        {    1, 27231   }, -- Zoar Subligar +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9028    }, -- Heiligtums Moss
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------king_uropygids_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.king_uropygids_coffer.onItemUse", function(target)
    local lootone =
    {
        {   15, 21329   }, -- Stinger Bullet
        {   10, 26731   }, -- Stinger Helm
        {    1, 26732   }, -- Stinger Helm +1
        {   74, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9030    }, -- Uropygids Needle
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------largantuas_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.largantuas_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 26870   }, -- Emet Harness
        {    1, 26871   }, -- Emet Harness +1
        {   10, 27504   }, -- Warders Charm
        {    1, 27505   }, -- Warders Charm +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8990    }, -- Largantuas Shard
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------lumber_jills_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.lumber_jills_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 27601   }, -- Grounded Mantle
        {    1, 27602   }, -- Grounded Mantle +1
        {   10, 20611   }, -- Sangarius
        {    1, 20612   }, -- Sangarius +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8985    }, -- Jills Spittle
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------mephitass_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.mephitass_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 27558   }, -- Mephitass Ring
        {    1, 27559   }, -- Mephitass Ring +1
        {   10, 20603   }, -- Ternion Dagger
        {    1, 20604   }, -- Ternion Dagger +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9055    }, -- Mephitass Claw
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------mhuufyas_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.mhuufyas_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 27532   }, -- Zwazo Earring
        {    1, 27533   }, -- Zwazo Earring +1
        {   10, 20799   }, -- Mdomo Axe
        {    1, 20800   }, -- Mdomo Axe +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9097    }, -- Mhuufyas Beak
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------muuts_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.muuts_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 20606   }, -- Anathema Harpe
        {    1, 20607   }, -- Anathema Harpe +1
        {   10, 27050   }, -- Kachimusha Kote
        {    1, 27051   }, -- Kachimusha Kote +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9048    }, -- Muuts Vestment
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------orcfeltraps_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.orcfeltraps_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 28423   }, -- Shinjutsu-no-Obi
        {    1, 28424   }, -- Shinjutsu-no-Obi +1
        {   10, 20987   }, -- Tancho
        {    1, 20988   }, -- Tancho +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8984    }, -- Orcfeltraps Leaf
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------prickly_pitrivs_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.prickly_pitrivs_coffer.onItemUse", function(target)
    local lootone =
    {
        {   15, 21347   }, -- Charitoni Sling
        {   15, 28349   }, -- Crested Torque
        {   10, 27598   }, -- Dew Silk Cape
        {    1, 27599   }, -- Dew Silk Cape +1
        {   59, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8976    }, -- Pitrivs Thread
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------saramas_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.saramas_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 21688   }, -- Montante
        {    1, 21689   }, -- Montante +1
        {   10, 20679   }, -- Tanmogayi
        {    1, 20680   }, -- Tanmogayi +1
        {   10, 25855   }, -- Tatenashi Haidate
        {    1, 25856   }, -- Tatenashi Haidate +1
        {   67, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9205    }, -- Saramas Hide
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------serpopard_ninlils_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.serpopard_ninlils_coffer.onItemUse", function(target)
    local lootone =
    {
        {   15, 21348   }, -- Narmar Boomerang
        {   15, 28534   }, -- Nekhen Ring
        {   10, 28350   }, -- Cloud Hairpin
        {    1, 28351   }, -- Cloud Hairpin +1
        {   59, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8980    }, -- Ninlils Bones
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------shedus_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.shedus_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 20681   }, -- Flyssa
        {    1, 20682   }, -- Flyssa +1
        {   10, 21075   }, -- Septoptic
        {    1, 21076   }, -- Septoptic +1
        {   10, 27148   }, -- Tatenashi Gote
        {    1, 27149   }, -- Tatenashi Gote +1
        {   67, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9206    }, -- Shedus Mane
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------sleepy_mabels_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.sleepy_mabels_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 21402}, -- Damani Horn
        {    1, 21403}, -- Damani Horn +1
        {   15, 28533}, -- Mouflon Ring
        {   15, 28426}, -- Acipayam Belt
        {   59, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8978    }, -- Mabels Fur
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------sovereign_behemoths_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.sovereign_behemoths_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 22266}, -- Antitail
        {    1, 22267}, -- Antitail +1
        {    3, 13566}, -- Defending Ring
        {   10, 27542}, -- Dominance Earring
        {    1, 27543}, -- Dominance Earring +1
        {   10, 26001}, -- Loricate Torque
        {    1, 26002}, -- Loricate Torque +1
        {   64, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9151    }, -- Sovereign Behemoths Hide
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------specter_worms_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.specter_worms_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 21343   }, -- Ghastly Tathlum
        {    1, 21344   }, -- Ghastly Tathlum +1
        {   10, 21702   }, -- Kladenets
        {    1, 21703   }, -- Kladenets +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9058    }, -- Specters Ore
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------strixs_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.strixs_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 21099   }, -- Magesmasher
        {    1, 21100   }, -- Magesmasher +1
        {   10, 28275   }, -- Jute Boots
        {    1, 28276   }, -- Jute Boots +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8987    }, -- Strixs Tailfeather
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------sybaritic_samanthas_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.sybaritic_samanthas_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 27508   }, -- Unmoving Collar
        {    1, 27509   }, -- Unmoving Collar +1
        {   10, 27562   }, -- Metamorph Ring
        {    1, 27563   }, -- Metamorph Ring +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9027    }, -- Sybaritic Samanthas Vine
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------thubans_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.thubans_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 21748   }, -- Habilitator
        {    1, 21749   }, -- Habilitator +1
        {   10, 25923   }, -- Tatenashi Sune-Ate
        {    1, 25924   }, -- Tatenashi Sune-Ate +1
        {   10, 26021   }, -- Vim Torque
        {    1, 26022   }, -- Vim Torque +1
        {   67, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9204    }, -- Thubans Scale
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------tiyanaks_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.tiyanaks_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 26896   }, -- Lugra Cloak
        {    1, 26897   }, -- Lugra Cloak +1
        {   10, 28481   }, -- Lugra Earring
        {    1, 28482   }, -- Lugra Earring +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9046    }, -- Tiyanaks Fang
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------tolbas_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.tolbas_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 26401   }, -- Forfend
        {    1, 26402   }, -- Forfend +1
        {   10, 21483   }, -- Malison
        {    1, 21484   }, -- Malison +1
        {   10, 25709   }, -- Obviation Cuirass
        {    1, 25710   }, -- Obviation Cuirass +1
        {   67, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9150    }, -- Tolbas Shell
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------tumult_curators_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.tumult_curators_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 20507   }, -- Comeuppances
        {    1, 20508   }, -- Comeuppances +1
        {   10, 22057   }, -- Contemplator
        {    1, 22058   }, -- Contemplator +1
        {   10, 25732   }, -- Tatenashi Haramaki
        {    1, 25733   }, -- Tatenashi Haramaki +1
        {   67, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9203    }, -- Tumults Blood
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------valkurm_imperators_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.valkurm_imperators_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 26709   }, -- Imperial Wing Hairpin
        {    1, 26710   }, -- Imperial Wing Hairpin +1
        {   10, 28273   }, -- Regal Pumps
        {    1, 28274   }, -- Regal Pumps +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8979    }, -- Imperators Wing
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------vedrfolnirs_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.vedrfolnirs_coffer.onItemUse", function(target)
    local lootone =
    {
    {   10, 20608   }, -- Jugo Kukri
    {    1, 20609   }, -- Jugo Kukri +1
    {   10, 21159   }, -- Marin Staff
    {    1, 21160   }, -- Marin Staff +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9031    }, -- Vedrfolnirs Wing
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------vermillion_fishflys_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.vermillion_fishflys_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 25601   }, -- Blistering Sallet
        {    1, 25602   }, -- Blistering Sallet +1
        {   10, 10770   }, -- Cacoethic Ring
        {    1, 10771   }, -- Cacoethic Ring +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9095    }, -- Vermillions Wing
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------vidmapires_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.vidmapires_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 20980   }, -- Raicho
        {    1, 20981   }, -- Raicho +1
        {   10, 27609   }, -- Fi Follet Cape
        {    1, 27610   }, -- Fi Follet Cape +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9103    }, -- Vidmapires Claw
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------volatile_clusters_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.volatile_clusters_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 27619   }, -- Aurists Cape
        {    1, 27620   }, -- Aurists Cape +1
        {   10, 21029   }, -- Norifusa
        {    1, 21030   }, -- Norifusa +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9096    }, -- Volatile Clusters Ash
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------vosos_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.vosos_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 26942   }, -- Agony Jerkin
        {    1, 26943   }, -- Agony Jerkin +1
        {   10, 21416   }, -- Refined Grip
        {    1, 21417   }, -- Refined Grip +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 9054    }, -- Vosos Hide
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------warblade_beaks_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.warblade_beaks_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10,    27995}, -- Shigure Tekko
        {    1,    27996}, -- Shigure Tekko +1
        {   10,    28490}, -- Handlers Earring
        {    1,    28491}, -- Handlers Earring +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8988    }, -- Warblade Beaks Hide
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

-----------------------------------------------------------------------
----------------------woodland_menders_coffer-------------------------------
-----------------------------------------------------------------------

m:addOverride("xi.items.woodland_menders_coffer.onItemUse", function(target)
    local lootone =
    {
        {   10, 26868  }, -- Rosette Jaseran
        {    1, 26869  }, -- Rosette Jaseran +1
        {   10, 21162  }, -- Pouwhenua
        {    1, 21163  }, -- Pouwhenua +1
        {   78, xi.item.NONE  },
    }
    local loottwo =
    {
        {   80, 8994   }, -- Menders Log
        {   10,  3502  }, -- Umbral Marrow
        {   10,  3503  }, -- Mulcibars Scoria
    }
    local lootthree = -- Reforged AF +1 items
    {
        {    5,   862  }, -- Behemoth Leather
        {    5,  2476  }, -- Platinum Silk Thread
        {    5,  1132  }, -- Raxa
        {    5,  2200  }, -- Twill Damask
        {    5,  1313  }, -- Sirens Hair
        {    5,   668  }, -- Orichalcum Sheet
        {    5,   758  }, -- Durium Sheet
        {    5,   688  }, -- Damascus Ingot
        {   60, xi.item.NONE  },
    }
    local lootfour = -- Reforged AF +1 items
    {
        {    5,  8720  }, -- Maliyakaleya Orb
        {    5,  8722  }, -- Hepatizon Ingot
        {    5,  8724  }, -- Beryllium Ingot
        {    5,  8726  }, -- Exalted Lumber
        {    5,  8728  }, -- Sifs Macrame
        {    5,  3977  }, -- Gabbrath Horn
        {    5,  3980  }, -- Bztavian Stinger
        {    5,  3979  }, -- Rockfin Tooth
        {    5,  4012  }, -- Waktza Rostrum
        {    5,  4014  }, -- Yggdreant Bole
        {   50, xi.item.NONE  },
    }
    local lootfive = -- Lvl 99 JSE Augmenting 
    {
        {    2,  9049  }, -- Refractive Crystal
        {   98, xi.item.NONE  },
    }
    local lootsix = -- Currency
    {
        {    10,  4060  }, -- Beitetsu
        {    75,  4059  }, -- Pluton
        {    15, xi.item.NONE  },
    }
    local qty = math.random(1,3)
    local qtya = math.random(1,18)
    local qtyb = math.random(3123, 8791)
    local loota = xi.itemUtils.pickItemRandom(target, lootone)
    local lootb = xi.itemUtils.pickItemRandom(target, loottwo)
    local lootc = xi.itemUtils.pickItemRandom(target, lootthree)
    local lootd = xi.itemUtils.pickItemRandom(target, lootfour)
    local loote = xi.itemUtils.pickItemRandom(target, lootfive)
    local lootf = xi.itemUtils.pickItemRandom(target, lootsix)
    local loot =
    {
        {loota,    1},
        {lootb,  qty},
        {lootc,    1},
        {lootd,    1},
        {loote,    1},
        {lootf, qtya},
    }
    for _, reward in pairs(loot) do
         if reward[1] >= 1 then
            npcUtil.giveItem(target, { { reward[1], reward[2] } })
         elseif reward[1] == 0 then
         end  
    end
        npcUtil.giveCurrency(target, 'gil', qtyb)
end)

return m